---
permalink: s3/index.html 
sidebar: sidebar 
keywords: about s3, s3 rest api, s3 overview 
summary: 'StorageGRID支持简单存储服务 \(S3\) API，该 API 作为一组表述性状态转移 \(REST\) Web 服务实现。' 
---
= S3 REST API 支持的版本和更新
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
StorageGRID支持简单存储服务 (S3) API，该 API 作为一组表述性状态转移 (REST) Web 服务实现。

对 S3 REST API 的支持使您能够将为 S3 Web 服务开发的面向服务的应用程序与使用StorageGRID系统的内部对象存储连接起来。只需对客户端应用程序当前使用的 S3 REST API 调用进行最少的更改。



== 支持的版本

StorageGRID支持以下特定版本的 S3 和 HTTP。

[cols="1a,1a"]
|===
| 物品 | 版本 


 a| 
S3 API 规范
 a| 
http://docs.aws.amazon.com/AmazonS3/latest/API/Welcome.html["Amazon Web Services (AWS) 文档：Amazon Simple Storage Service API 参考"^]



 a| 
HTTP
 a| 
1.1

有关 HTTP 的更多信息，请参阅 HTTP/1.1（RFC 7230-35）。

https://datatracker.ietf.org/doc/html/rfc2616["IETF RFC 2616：超文本传输协议（HTTP/1.1）"^]

*注意*： StorageGRID不支持 HTTP/1.1 流水线。

|===


== 对 S3 REST API 支持的更新

[cols="1a,4a"]
|===
| 版本 | 注释 


 a| 
11.9
 a| 
* 增加了对以下请求和支持的标头的预先计算的 SHA-256 校验和值的支持。您可以使用此功能来验证已上传对象的完整性：
+
** 完成分段上传： `x-amz-checksum-sha256`
** 创建多部分上传： `x-amz-checksum-algorithm`
** 获取对象： `x-amz-checksum-mode`
** 头部对象： `x-amz-checksum-mode`
** 列出零件
** 放置对象： `x-amz-checksum-sha256`
** 上传部分： `x-amz-checksum-sha256`


* 增加了网格管理员控制租户级保留和合规性设置的能力。这些设置会影响 S3 对象锁定设置。
+
** 存储桶默认保留模式和对象保留模式：治理或合规（如果网格管理员允许）。
** 存储桶默认保留期和对象保留截止日期：必须小于或等于网格管理员设置的最大保留期所允许的值。


* 改进了对 `aws-chunked`内容编码和流媒体 `x-amz-content-sha256`值。限制：
+
** 如果存在， `chunk-signature`是可选的，并且未经验证
** 如果存在， `x-amz-trailer`内容被忽略






 a| 
11.8
 a| 
更新了 S3 操作的名称，以匹配 http://docs.aws.amazon.com/AmazonS3/latest/API/Welcome.html["Amazon Web Services (AWS) 文档：Amazon Simple Storage Service API 参考"^]。



 a| 
11.7
 a| 
* 额外link:quick-reference-support-for-aws-apis.html["快速参考：支持的 S3 API 请求"]。
* 增加了对使用 GOVERNANCE 模式和 S3 对象锁的支持。
* 增加了对StorageGRID特定的支持 `x-ntap-sg-cgr-replication-status`GET Object 和 HEAD Object 请求的响应头。此标头提供跨网格复制的对象复制状态。
* SelectObjectContent 请求现在支持 Parquet 对象。




 a| 
11.6
 a| 
* 增加了对使用 `partNumber`GET Object 和 HEAD Object 请求中的请求参数。
* 增加了对 S3 对象锁的存储桶级别的默认保留模式和默认保留期的支持。
* 增加了对 `s3:object-lock-remaining-retention-days`策略条件键来设置对象允许的保留期范围。
* 将单个 PUT 对象操作的最大_建议_大小更改为 5 GiB（5,368,709,120 字节）。如果您的对象大于 5 GiB，请改用分段上传。




 a| 
11.5
 a| 
* 增加了对管理存储桶加密的支持。
* 增加了对 S3 对象锁定的支持并弃用了旧版合规性请求。
* 增加了对在版本化存储桶上使用 DELETE 多个对象的支持。
* 这 `Content-MD5`请求标头现在已得到正确支持。




 a| 
11.4
 a| 
* 增加了对 DELETE Bucket 标记、GET Bucket 标记和 PUT Bucket 标记的支持。不支持成本分配标签。
* 对于在StorageGRID 11.4 中创建的存储桶，不再需要限制对象键名称以满足性能最佳实践。
* 增加了对 bucket 通知的支持 `s3:ObjectRestore:Post`事件类型。
* AWS 现已强制执行多部分部件的大小限制。分段上传中的每个部分必须介于 5 MiB 和 5 GiB 之间。最后一部分可以小于 5 MiB。
* 增加了对 TLS 1.3 的支持




 a| 
11.3
 a| 
* 增加了使用客户提供的密钥（SSE-C）对对象数据进行服务器端加密的支持。
* 增加了对 DELETE、GET 和 PUT Bucket 生命周期操作（仅限到期操作）的支持，以及 `x-amz-expiration`响应头。
* 更新了 PUT 对象、PUT 对象 - 复制和分段上传，以描述在摄取时使用同步放置的 ILM 规则的影响。
* TLS 1.1 密码不再受支持。




 a| 
11.2
 a| 
增加了对用于云存储池的 POST 对象还原的支持。增加了对在组和存储桶策略中使用 ARN、策略条件键和策略变量的 AWS 语法的支持。使用StorageGRID语法的现有组和存储桶策略将继续受到支持。

*注意：*其他配置 JSON/XML 中 ARN/URN 的使用（包括自定义StorageGRID功能中使用的 ARN/URN 的使用）没有改变。



 a| 
11.1
 a| 
增加了对跨域资源共享 (CORS)、S3 客户端连接到网格节点的 HTTP 以及存储桶上的合规性设置的支持。



 a| 
11.0
 a| 
增加了对存储桶配置平台服务（CloudMirror 复制、通知和 Elasticsearch 搜索集成）的支持。还增加了对存储桶的对象标记位置约束以及可用一致性的支持。



 a| 
10.4
 a| 
增加了对 ILM 扫描版本控制更改、端点域名页面更新、策略中的条件和变量、策略示例以及 PutOverwriteObject 权限的支持。



 a| 
10.3
 a| 
增加了对版本控制的支持。



 a| 
10.2
 a| 
增加了对组和存储桶访问策略以及分段复制（上传部分 - 复制）的支持。



 a| 
10.1
 a| 
增加了对分段上传、虚拟托管式请求和 v4 身份验证的支持。



 a| 
10.0
 a| 
StorageGRID系统初步支持 S3 REST API。当前支持的《简单存储服务 API 参考》版本是 2006-03-01。

|===