---
permalink: s3/put-bucket-consistency-request.html 
sidebar: sidebar 
keywords: S3 REST API, S3 operations, PUT bucket consistency request 
summary: PUT Bucket 一致性请求允许您指定应用于对存储桶执行的操作的一致性。 
---
= PUT桶一致性
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
PUT Bucket 一致性请求允许您指定应用于对存储桶执行的操作的一致性。

默认一致性设置为保证新创建对象的先读后写。

.开始之前
您必须拥有 s3:PutBucketConsistency 权限，或者成为账户根，才能完成此操作。



== 要求

这 `x-ntap-sg-consistency`参数必须包含以下值之一：

[cols="1a,2a"]
|===
| 一致性 | 描述 


 a| 
所有
 a| 
所有节点立即接收数据，否则请求将失败。



 a| 
强大的全球
 a| 
保证所有站点上所有客户端请求的读写一致性。



 a| 
强位点
 a| 
保证站点内所有客户端请求的读写一致性。



 a| 
新写后读
 a| 
（默认）为新对象提供写后读一致性，并为对象更新提供最终一致性。提供高可用性和数据保护保证。在大多数情况下推荐使用。



 a| 
可用
 a| 
为新对象和对象更新提供最终的一致性。对于 S3 存储桶，仅在需要时使用（例如，对于包含很少读取的日志值的存储桶，或者对于不存在的键的 HEAD 或 GET 操作）。不支持 S3 FabricPool存储桶。

|===
*注意：*一般来说，您应该使用“Read-after-new-write”一致性。如果请求无法正常工作，请尽可能更改应用程序客户端行为。或者，配置客户端以指定每个 API 请求的一致性。仅在万不得已的情况下才在存储桶级别设置一致性。



== 请求示例

[listing, subs="specialcharacters,quotes"]
----
PUT /bucket?x-ntap-sg-consistency=strong-global HTTP/1.1
Date: _date_
Authorization: _authorization string_
Host: _host_
----
.相关信息
link:consistency-controls.html["一致性值"]
