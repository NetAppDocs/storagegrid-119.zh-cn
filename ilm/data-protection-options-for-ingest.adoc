---
permalink: ilm/data-protection-options-for-ingest.html 
sidebar: sidebar 
keywords: ingest options, balanced ingest, strict ingest, dual-commit ingest 
summary: 创建 ILM 规则时，您可以指定三个用于在摄取时保护对象的选项之一：双重提交、严格或平衡。 
---
= 收录选项
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
创建 ILM 规则时，您可以指定三个用于在摄取时保护对象的选项之一：双重提交、严格或平衡。

根据您的选择， StorageGRID会制作临时副本并将对象排队以供稍后进行 ILM 评估，或者使用同步放置并立即制作副本以满足 ILM 要求。



== 提取选项流程图

该流程图显示了当对象通过使用三个摄取选项的 ILM 规则匹配时发生的情况。

image::../media/ingest_object_lifecycle.png[图表显示了每个摄取选项的对象摄取方式]



== 双提交

当您选择双重提交选项时， StorageGRID会立即在两个不同的存储节点上制作临时对象副本，并向客户端返回“摄取成功”消息。该对象将排队等待 ILM 评估，稍后将制作符合规则放置说明的副本。如果双重提交后无法立即处理 ILM 策略，则站点丢失保护可能需要一些时间才能实现。

在以下任一情况下，请使用双重提交选项：

* 您正在使用多站点 ILM 规则，并且客户端摄取延迟是您的主要考虑因素。使用双重提交时，您必须确保网格可以执行创建和删除双重提交副本（如果它们不满足 ILM）的额外工作。具体来说：
+
** 电网负载必须足够低，以防止 ILM 积压。
** 网格必须具有多余的硬件资源（IOPS、CPU、内存、网络带宽等）。


* 您正在使用多站点 ILM 规则，并且站点之间的 WAN 连接通常具有高延迟或有限的带宽。在这种情况下，使用双重提交选项可以帮助防止客户端超时。在选择双重提交选项之前，您应该使用实际工作负载测试客户端应用程序。




== 平衡（默认）

当您选择“平衡”选项时， StorageGRID还会在摄取时使用同步放置，并立即制作规则放置说明中指定的所有副本。与严格选项相反，如果StorageGRID不能立即制作所有副本，它会使用双重提交。如果 ILM 策略使用多个站点上的放置，并且无法实现立即的站点丢失保护，则会触发 *ILM 放置无法实现* 警报。

使用平衡选项来实现数据保护、网格性能和摄取成功的最佳组合。平衡是创建 ILM 规则向导中的默认选项。



== 严格

当您选择“严格”选项时， StorageGRID会在摄取时使用同步放置，并立即制作规则放置说明中指定的所有对象副本。如果StorageGRID无法创建所有副本（例如，由于所需的存储位置暂时不可用），则摄取会失败。客户端必须重试该操作。

如果您有操作或监管要求，需要立即将对象仅存储在 ILM 规则中概述的位置，请使用“严格”选项。例如，为了满足监管要求，您可能需要使用严格选项和位置约束高级过滤器来保证对象永远不会存储在某些数据中心。

看link:example-5-ilm-rules-and-policy-for-strict-ingest-behavior.html["示例 5：针对严格摄取行为的 ILM 规则和策略"] 。
