---
permalink: ubuntu/how-grid-nodes-discover-primary-admin-node.html 
sidebar: sidebar 
keywords: How grid nodes discover primary Admin Node 
summary: 网格节点与主管理节点通信以进行配置和管理。每个网格节点必须知道网格网络上主管理节点的 IP 地址。 
---
= 网格节点如何发现主管理节点
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
网格节点与主管理节点通信以进行配置和管理。每个网格节点必须知道网格网络上主管理节点的 IP 地址。

为了确保网格节点可以访问主管理节点，您可以在部署节点时执行以下操作之一：

* 您可以使用 ADMIN_IP 参数手动输入主管理节点的 IP 地址。
* 您可以省略 ADMIN_IP 参数以使网格节点自动发现该值。当网格网络使用 DHCP 将 IP 地址分配给主管理节点时，自动发现特别有用。


使用多播域名系统 (mDNS) 实现主管理节点的自动发现。当主管理节点首次启动时，它会使用 mDNS 发布其 IP 地址。然后，同一子网上的其他节点可以查询 IP 地址并自动获取它。但是，由于多播 IP 流量通常无法跨子网路由，因此其他子网上的节点无法直接获取主管理节点的 IP 地址。

[NOTE]
====
如果您使用自动发现：

* 您必须为主管理节点未直接连接的任何子网上的至少一个网格节点包含 ADMIN_IP 设置。然后，该网格节点将发布主管理节点的 IP 地址，以便子网上的其他节点通过 mDNS 进行发现。
* 确保您的网络基础设施支持在子网内传递多播 IP 流量。


====