---
permalink: monitor/collecting-log-files-and-system-data.html 
sidebar: sidebar 
keywords: how to collect system data, how to collect logs 
summary: 您可以使用网格管理器检索StorageGRID系统的日志文件和系统数据（包括配置数据）。 
---
= 收集日志文件和系统数据
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
您可以使用网格管理器检索StorageGRID系统的日志文件和系统数据（包括配置数据）。

.开始之前
* 您必须使用link:../admin/web-browser-requirements.html["支持的网络浏览器"]。
* 你有link:../admin/admin-group-permissions.html["特定访问权限"]。
* 您必须拥有配置密码。


.关于此任务
您可以使用网格管理器来收集link:logs-files-reference.html["日志文件"]、系统数据和来自任何网格节点的您选择的时间段的配置数据。数据被收集并存档在 .tar.gz 文件中，然后您可以将其下载到本地计算机。

或者，您可以更改审计日志的目标并将审计信息发送到外部系统日志服务器。当配置外部系统日志服务器时，将继续生成和存储审计记录的本地日志。看link:../monitor/configure-audit-messages.html["配置审计消息和日志目标"] 。

.步骤
. 选择 *支持* > *工具* > *日志*。
+
image::../media/support_logs_select_nodes.png[日志收集UI截图]

. 选择要收集日志文件的网格节点。
+
根据需要，您可以收集整个网格或整个数据中心站点的日志文件。

. 选择*开始时间*和*结束时间*来设置日志文件中包含的数据的时间范围。
+
如果您选择很长的时间段或从大型网格中的所有节点收集日志，则日志存档可能会变得太大而无法存储在节点上，或者太大而无法收集到主管理节点进行下载。如果发生这种情况，您必须使用较小的数据集重新开始日志收集。

. 选择您想要收集的日志类型。
+
** *应用程序日志*：技术支持最常用于故障排除的特定于应用程序的日志。收集的日志是可用应用程序日志的子集。
** *审计日志*：包含系统正常运行期间生成的审计消息的日志。
** *网络跟踪*：用于网络调试的日志。
** *Prometheus 数据库*：来自所有节点上的服务的时间序列指标。


. 或者，在 *Notes* 文本框中输入有关您收集的日志文件的注释。
+
您可以使用这些注释来向技术支持提供有关促使您收集日志文件的问题的信息。您的笔记已添加到名为 `info.txt`以及有关日志文件收集的其他信息。这 `info.txt`文件保存在日志文件归档包中。

. 在 *Provisioning Passphrase* 文本框中输入StorageGRID系统的配置密码。
. 选择*收集日志*。
+
当您提交新请求时，先前的日志文件集合将被删除。

+
您可以使用日志页面来监控每个网格节点的日志文件收集进度。

+
如果您收到有关日志大小的错误消息，请尝试收集更短时间段或更少节点的日志。

. 日志文件收集完成后选择*下载*。
+
_.tar.gz_ 文件包含所有成功收集日志的网格节点的所有日志文件。在组合的 _.tar.gz_ 文件中，每个网格节点都有一个日志文件存档。



.完成后
如果需要，您可以稍后重新下载日志文件存档包。

或者，您可以选择“*删除*”来删除日志文件存档包并释放磁盘空间。下次收集日志文件时，当前日志文件归档包将被自动删除。
