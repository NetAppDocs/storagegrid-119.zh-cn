---
permalink: tenant/managing-local-users.html 
sidebar: sidebar 
keywords: how to create local tenant users, manage users 
summary: 您可以创建本地用户并将他们分配到本地组，以确定这些用户可以访问哪些功能。租户管理器包括一个名为“root”的预定义本地用户。虽然您可以添加和删除本地用户，但您不能删除 root 用户。 
---
= 管理本地用户
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
您可以创建本地用户并将他们分配到本地组，以确定这些用户可以访问哪些功能。租户管理器包括一个名为“root”的预定义本地用户。虽然您可以添加和删除本地用户，但您不能删除根用户。


NOTE: 如果您的StorageGRID系统启用了单点登录 (SSO)，本地用户将无法登录租户管理器或租户管理 API，但他们可以根据组权限使用客户端应用程序访问租户的资源。

.开始之前
* 您已使用link:../admin/web-browser-requirements.html["支持的网络浏览器"]。
* 您属于具有link:tenant-management-permissions.html["Root访问权限"]。
* 如果您的租户帐户具有“使用网格联合连接”权限，则您已查看了以下工作流程和注意事项：link:grid-federation-account-clone.html["克隆租户组和用户"] ，您已登录到租户的源网格。




== [[create-user]]创建本地用户

您可以创建本地用户并将其分配给一个或多个本地组以控制他们的访问权限。

不属于任何组的 S3 用户没有管理权限或不应用 S3 组策略。这些用户可能通过存储桶策略获得 S3 存储桶访问权限。

不属于任何组的 Swift 用户没有管理权限或 Swift 容器访问权限。



=== 访问创建用户向导

.步骤
. 选择*访问管理* > *用户*。
+
如果您的租户帐户具有*使用网格联合连接*权限，则蓝色横幅表示这是租户的源网格。您在此网格上创建的任何本地用户都将被克隆到连接中的另一个网格。

+
image::../media/grid-federation-tenant-user-banner.png[如果这是租户源网格，则用户页面上的蓝色横幅图像]

. 选择*创建用户*。




=== 输入凭证

.步骤
. 对于*输入用户凭证*步骤，请填写以下字段。
+
[cols="1a,3a"]
|===
| 字段 | 描述 


 a| 
姓名
 a| 
此用户的全名，例如，一个人的名字和姓氏或应用程序的名称。



 a| 
用户名
 a| 
此用户将用于登录的名称。用户名必须是唯一的，并且不能更改。

*注意*：如果您的租户帐户具有*使用网格联合连接*权限，则当目标网格上已存在与该租户相同的*用户名*时，将发生克隆错误。



 a| 
密码和确认密码
 a| 
用户最初登录时使用的密码。



 a| 
拒绝访问
 a| 
选择“是”可阻止该用户登录租户帐户，即使他们可能仍属于一个或多个组。

例如，选择“是”可暂时中止用户的登录权限。

|===
. 选择*继续*。




=== 分配给组

.步骤
. 将用户分配到一个或多个本地组以确定他们可以执行哪些任务。
+
将用户分配到组是可选的。如果您愿意，您可以在创建或编辑群组时选择用户。

+
不属于任何组的用户将没有管理权限。权限是累积的。用户将拥有其所属的所有组的所有权限。看link:tenant-management-permissions.html["租户管理权限"] 。

. 选择*创建用户*。
+
如果您的租户帐户具有*使用网格联合连接*权限并且您位于租户的源网格上，则新的本地用户将被克隆到租户的目标网格。  *成功*在用户详细信息页面的概览部分中显示为*克隆状态*。

. 选择“完成”返回“用户”页面。




== 查看或编辑本地用户

.步骤
. 选择*访问管理* > *用户*。
. 查看“用户”页面上提供的信息，其中列出了此租户帐户的所有本地用户和联合用户的基本信息。
+
如果租户帐户具有 *使用网格联合连接* 权限，并且您正在查看租户源网格上的用户：

+
** 横幅消息表明，如果您编辑或删除用户，您的更改将不会同步到另一个网格。
** 根据需要，横幅消息会指示用户是否未克隆到目标网格上的租户。您可以<<clone-users,重试失败的用户克隆>> 。


. 如果要更改用户的全名：
+
.. 选中用户的复选框。
.. 选择*操作* > *编辑全名*。
.. 输入新名称。
.. 选择“保存更改”。


. 如果您想要查看更多详细信息或进行其他编辑，请执行以下操作之一：
+
** 选择用户名。
** 选中用户的复选框，然后选择*操作* > *查看用户详细信息*。


. 查看“概述”部分，其中显示每个用户的以下信息：
+
** 姓名
** 用户名
** 用户类型
** 拒绝访问
** 访问模式
** 团体成员资格
** 如果租户帐户具有 *使用网格联合连接* 权限并且您正在租户的源网格上查看用户，则附加字段：
+
*** 克隆状态，*成功*或*失败*
*** 蓝色横幅表示如果您编辑此用户，您的更改将不会同步到其他网格。




. 根据需要编辑用户设置。看<<create-user,创建本地用户>>了解有关输入内容的详细信息。
+
.. 在“概述”部分中，通过选择名称或编辑图标来更改全名image:../media/icon_edit_tm.png["编辑图标"]。
+
您不能更改用户名。

.. 在*密码*选项卡上，更改用户密码，然后选择*保存更改*。
.. 在“*访问*”选项卡上，选择“*否*”以允许用户登录，或选择“*是*”以阻止用户登录。然后，选择“*保存更改*”。
.. 在“访问密钥”选项卡上，选择“创建密钥”并按照说明进行操作link:creating-another-users-s3-access-keys.html["创建另一个用户的 S3 访问密钥"]。
.. 在“*组*”选项卡上，选择“*编辑组*”将用户添加到组或从组中删除用户。然后，选择*保存更改*。


. 确认您为更改的每个部分选择了“保存更改”。




== 重复的本地用户

您可以复制本地用户以更快地创建新用户。


NOTE: 如果您的租户帐户具有*使用网格联合连接*权限，并且您从租户的源网格复制用户，则重复的用户将被克隆到租户的目标网格。

.步骤
. 选择*访问管理* > *用户*。
. 选中您想要复制的用户的复选框。
. 选择*操作* > *重复用户*。
. 看<<create-user,创建本地用户>>了解有关输入内容的详细信息。
. 选择*创建用户*。




== [[clone-users]]重试用户克隆

要重试失败的克隆：

. 选择用户名下方显示“（克隆失败）”的每个用户。
. 选择*操作* > *克隆用户*。
. 从您正在克隆的每个用户的详细信息页面查看克隆操作的状态。


有关更多信息，请参阅link:grid-federation-account-clone.html["克隆租户组和用户"]。



== 删除一个或多个本地用户

您可以永久删除一个或多个不再需要访问StorageGRID租户帐户的本地用户。


NOTE: 如果您的租户帐户具有*使用网格联合连接*权限并且您删除本地用户，则StorageGRID将不会删除另一个网格上的相应用户。如果您需要保持此信息同步，则必须从两个网格中删除同一个用户。


NOTE: 您必须使用联合身份源来删除联合用户。

.步骤
. 选择*访问管理* > *用户*。
. 选中要删除的每个用户的复选框。
. 选择*操作* > *删除用户*或*操作* > *删除用户*。
+
出现确认对话框。

. 选择*删除用户*或*删除用户*。

