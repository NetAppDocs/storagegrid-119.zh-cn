---
permalink: tenant/deleting-s3-bucket-objects.html 
sidebar: sidebar 
keywords: how to delete bucket objects, empty bucket 
summary: 您可以使用租户管理器删除一个或多个存储桶中的对象。 
---
= 删除存储桶中的对象
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
您可以使用租户管理器删除一个或多个存储桶中的对象。

.注意事项和要求
在执行这些步骤之前，请注意以下事项：

* 当您删除存储桶中的对象时， StorageGRID会从StorageGRID系统中的所有节点和站点永久删除每个选定存储桶中的所有对象和所有对象版本。 StorageGRID还会删除任何相关的对象元数据。您将无法恢复此信息。
* 根据对象的数量、对象副本和并发操作，删除存储桶中的所有对象可能需要几分钟、几天甚至几周的时间。
* 如果桶中有link:using-s3-object-lock.html["已启用 S3 对象锁定"]，它可能会保持“删除对象：只读”状态长达_年_。
+

TIP: 使用 S3 对象锁定的存储桶将保持 *删除对象：只读* 状态，直到所有对象的保留日期都达到并且任何合法保留都被删除。

* 当对象被删除时，存储桶的状态为*删除对象：只读*。在此状态下，您无法向存储桶添加新对象。
* 当所有对象都被删除后，存储桶仍保持只读状态。您可以执行以下操作之一：
+
** 将存储桶恢复为写入模式，并将其重新用于新对象
** 删除存储桶
** 将存储桶保持在只读模式，以保留其名称以供将来使用


* 如果存储桶启用了对象版本控制，则可以使用存储桶操作中的删除对象删除在StorageGRID 11.8 或更高版本中创建的删除标记。
* 如果存储桶启用了对象版本控制，则删除对象操作将不会删除在StorageGRID 11.7 或更早版本中创建的删除标记。请参阅有关删除存储桶中对象的信息link:../ilm/how-objects-are-deleted.html#delete-s3-versioned-objects["如何删除 S3 版本控制对象"]。
* 如果你使用link:grid-federation-manage-cross-grid-replication.html["跨网格复制"]，请注意以下事项：
+
** 使用此选项不会从另一个网格上的存储桶中删除任何对象。
** 如果您为源存储桶选择此选项，则在将对象添加到另一个网格上的目标存储桶时将触发*跨网格复制失败*警报。如果你不能保证没有人会将对象添加到另一个网格的存储桶中，link:../tenant/grid-federation-manage-cross-grid-replication.html["禁用跨网格复制"]在删除所有存储桶对象之前，请先删除该存储桶的所有对象。




.开始之前
* 您已使用link:../admin/web-browser-requirements.html["支持的网络浏览器"]。
* 您属于具有link:tenant-management-permissions.html["Root访问权限"]。此权限将覆盖组或存储桶策略中的权限设置。


.步骤
. 从仪表板中选择 *查看存储桶*，或选择 *存储（S3）* > *存储桶*。
+
出现“存储桶”页面并显示所有现有的 S3 存储桶。

. 使用*操作*菜单或特定存储桶的详细信息页面。
+
[role="tabbed-block"]
====
.操作菜单
--
.. 选中要从中删除对象的每个存储桶的复选框。
.. 选择*操作* > *删除存储桶中的对象*。


--
.详细信息页面
--
.. 选择一个存储桶名称以显示其详细信息。
.. 选择*删除存储桶中的对象*。


--
====
. 当确认对话框出现时，检查详细信息，输入*是*，然后选择*确定*。
. 等待删除操作开始。
+
几分钟后：

+
** 存储桶详细信息页面上会出现黄色状态横幅。进度条表示已删除对象的百分比。
** *(只读)* 出现在存储桶详细信息页面上的存储桶名称后面。
** *(删除对象：只读)* 出现在存储桶页面上存储桶名称的旁边。


+
image::../media/delete-bucket-objects-in-progress.png[显示正在删除存储桶对象的屏幕截图]

. 操作运行时，根据需要选择*停止删除对象*以停止该过程。然后，可选择选择“删除存储桶中的对象”以恢复该过程。
+
当您选择*停止删除对象*时，存储桶将返回到写入模式；但是，您无法访问或恢复任何已删除的对象。

. 等待操作完成。
+
当存储桶为空时，状态横幅会更新，但存储桶仍保持只读状态。

+
image::../media/delete-bucket-objects-complete.png[显示所有存储桶对象均已删除的屏幕截图]

. 执行以下操作之一：
+
** 退出页面以使存储桶保持只读模式。例如，您可以将空存储桶保持在只读模式，以保留存储桶名称以供将来使用。
** 删除存储桶。您可以选择“*删除存储桶*”来删除单个存储桶，或者返回“存储桶”页面并选择“*操作*”>“*删除*存储桶”来删除多个存储桶。
+

NOTE: 如果在删除所有对象后无法删除受版本控制的存储桶，则删除标记可能会保留。要删除存储桶，您必须删除所有剩余的删除标记。

** 将存储桶返回到写入模式并可选择将其重新用于新对象。您可以为单个存储桶选择*停止删除对象*，或者返回存储桶页面并为多个存储桶选择*操作* > *停止删除对象*。



