---
permalink: maintain/checking-data-repair-jobs.html 
sidebar: sidebar 
keywords: storagegrid, data repair 
summary: 在退役网格节点之前，您必须确认没有处于活动状态的数据修复作业。如果任何修复失败，则必须重新启动它们并让它们完成，然后再执行退役程序。 
---
= 检查数据修复作业
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
在退役网格节点之前，您必须确认没有处于活动状态的数据修复作业。如果任何修复失败，则必须重新启动它们并让它们完成，然后再执行退役程序。

.关于此任务
如果您需要停用已断开连接的存储节点，您也需要在停用过程完成后完成这些步骤，以确保数据修复工作成功完成。您必须确保已删除节点上的所有擦除编码片段都已成功恢复。

这些步骤仅适用于具有擦除编码对象的系统。

.步骤
. 登录到主管理节点：
+
.. 输入以下命令： `ssh admin@_grid_node_IP_`
.. 输入 `Passwords.txt`文件。
.. 输入以下命令切换到root： `su -`
.. 输入 `Passwords.txt`文件。
+
当您以 root 身份登录时，提示符将从 `$`到 `#`。



. 检查正在进行的维修： `repair-data show-ec-repair-status`
+
** 如果您从未运行过数据修复作业，则输出为 `No job found`。您不需要重新启动任何修复工作。
** 如果数据修复作业之前已运行或当前正在运行，则输出将列出修复信息。每次维修都有唯一的维修 ID。
+
image::../media/repair-data-status.png[修复数据状态]



+

TIP: 或者，您可以使用网格管理器来监控正在进行的恢复过程并显示恢复历史记录。看link:../maintain/restoring-volume.html["使用网格管理器恢复对象数据"] 。

. 如果所有维修费用由州政府承担 `Completed`，您不需要重新启动任何修复工作。
. 如果国家要求任何维修 `Stopped`，则必须重新启动该修复。
+
.. 从输出中获取失败修复的修复 ID。
.. 运行 `repair-data start-ec-node-repair`命令。
+
使用 `--repair-id`选项来指定修复 ID。例如，如果您想重试修复 ID 为 949292 的修复，请运行以下命令： `repair-data start-ec-node-repair --repair-id 949292`

.. 继续跟踪 EC 数据修复状态，直到所有修复的状态都 `Completed`。



